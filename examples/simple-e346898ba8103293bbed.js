"use strict";(this.webpackChunk_brianchirls_game_input=this.webpackChunk_brianchirls_game_input||[]).push([[320],{974:(e,t,n)=>{var o=n(885),i=n(99),r=n(439),a=n(496),c=n(684),u=n(93),d=n(780),l=n(906);document.body.innerHTML='<style>#thing{position:absolute;width:60px;height:90px;margin:-30px -45px}#controls{position:fixed;top:20px;right:20px;border:1px solid #fff;background-color:rgba(0,0,0,.6);color:#fff;display:flex;flex-direction:column;padding:20px}#instructions{position:absolute;bottom:0;left:0;padding:1em;background-color:rgba(125,125,125,.5)}</style> <svg id="thing" viewbox="0 0 40 60"> <polygon points="20,0 0,60 40,60" style="fill:rebeccapurple"/> </svg> <div id="instructions"> <p>Move: left gamepad stick, WASD keys or left virtual stick</p> <p>Rotate: right gamepad stick, left/right arrow keys or right virtual stick</p> </div> ';var s=new i.Z,f=new r.Z({keyCode:!0}),p=new d.Z({filter:function(e){return e.pageX<Math.max(200,.4*window.innerWidth)}}),v=new d.Z({filter:function(e){return e.pageX>window.innerWidth-Math.max(200,.4*window.innerWidth)}}),h=s.getControl("leftStick"),g=s.getControl("rightStick").x,y=new a.Z({up:f.getControl("KeyW"),left:f.getControl("KeyA"),down:f.getControl("KeyS"),right:f.getControl("KeyD")}),m=new c.Z({negative:f.getControl("ArrowLeft"),positive:f.getControl("ArrowRight")}),Z=p.getControl(),b=v.getControl(),x=new u.Z({bindings:[h,y,Z]}),w=new u.Z({bindings:[g,m,b.x]}),k=document.getElementById("thing"),C=100,E=100,R=0,A=performance.now();(0,l.Z)(Z),(0,l.Z)(b),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),n=t-A;A=t,s.update();var i=(0,o.Z)(x.value,2),r=i[0],a=i[1],c=w.value,u=.3*n;C+=r*u,E-=a*u,R+=.42*c*n,k.style.transform="translate(".concat(C,"px, ").concat(E,"px) rotate(").concat(R,"deg)"),requestAnimationFrame(e)}()},496:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(925),i=n(144),r=n(671),a=n(340),c=n(963),u=n(120),d=n(332),l=["left","right","up","down"];var s=function(e){(0,a.Z)(s,e);var t,n,d=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,u.Z)(t);if(n){var i=(0,u.Z)(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function s(e){var t,n=e.left,i=e.right,a=e.up,c=e.down,u=(0,o.Z)(e,l);(0,r.Z)(this,s),(t=d.call(this,(function(){return[t.children.get("right").read()-t.children.get("left").read(),t.children.get("up").read()-t.children.get("down").read()]}),u)).children.set("left",n),t.children.set("right",i),t.children.set("up",a),t.children.set("down",c);var f=function(){return t.emit("change")};return t.children.forEach((function(e){e.on("change",f)})),t}return(0,i.Z)(s)}(d.Z)},780:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(144),i=n(671),r=n(326),a=n(340),c=n(963),u=n(120),d=n(942),l=n(611);var s=function(e){(0,a.Z)(f,e);var t,n,s=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,u.Z)(t);if(n){var i=(0,u.Z)(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function f(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,f),e=s.call(this),(0,d.Z)((0,r.Z)(e),"x",void 0),(0,d.Z)((0,r.Z)(e),"y",void 0),(0,d.Z)((0,r.Z)(e),"radius",void 0),(0,d.Z)((0,r.Z)(e),"pointerType",void 0),(0,d.Z)((0,r.Z)(e),"mode",void 0),(0,d.Z)((0,r.Z)(e),"timestamp",void 0),(0,d.Z)((0,r.Z)(e),"element",void 0);var n=t.element,o=void 0===n?document.body:n,a=t.mode,c=void 0===a?"dynamic":a,u=t.lockX,p=void 0!==u&&u,v=t.lockY,h=void 0!==v&&v,g=t.touch,y=void 0===g||g,m=t.pen,Z=void 0===m||m,b=t.mouse,x=void 0!==b&&b,w=t.filter,k=t.touchActionStyle,C=void 0===k||k,E=t.radius,R=void 0===E?60:E,A=t.x,L=void 0===A?0:A,M=t.y,O=void 0===M?0:M,S=t.enabled,T=void 0===S||S,X=null,_=null,B=0,I=0,W=0,j=0,F="static"===c,K=x||Z||y&&navigator.maxTouchPoints>0,P={pen:Z,mouse:x,touch:y};function Y(e){if(!X&&P[e.pointerType]&&(!w||w(e))){if(F){var t=e.offsetX-L,n=e.offsetY-O;if(Math.hypot(t,n)>R)return;B=L,I=O}else B=e.offsetX,I=e.offsetY;X=e,_=e}}var q=function(t){if(X&&X.pointerId===t.pointerId){_=t;var n=p?0:t.offsetX-B,o=h?0:t.offsetY-I,i=Math.hypot(n,o),r=Math.max(i,R);W=n/r,j=-o/r,e.emit("change")}},D=function(t){X&&X.pointerId===t.pointerId&&(_=t,X=null,(W||j)&&(W=0,j=0,e.emit("change")))},N=C&&o.style?o:document.body;function H(){T=!0,K&&(C&&(N.style.touchAction="none"),o.addEventListener("pointerdown",Y),o.addEventListener("pointermove",q),o.addEventListener("pointerup",D),o.addEventListener("pointercancel",D))}function V(){T=!1,C&&(N.style.touchAction=""),o.removeEventListener("pointerdown",Y),o.removeEventListener("pointermove",q),o.removeEventListener("pointerup",D),o.removeEventListener("pointercancel",D)}return e.getControl=function(t,n){return new l.Z((function(){return X?[W,j]:l.Z.defaultValue}),Object.assign({name:t},n,{device:(0,r.Z)(e),active:function(){return!!X}}))},e.destroy=function(){V()},Object.defineProperties((0,r.Z)(e),{pointerType:{get:function(){return _&&_.pointerType||""}},mode:{get:function(){return c}},connected:{enumerable:!1,configurable:!1,writable:!1,value:K},timestamp:{get:function(){return _&&_.timeStamp||0}},element:{enumerable:!1,configurable:!1,writable:!1,value:o},x:{get:function(){return F?L:B},set:function(e){L=e}},y:{get:function(){return F?O:I},set:function(e){O=e}},radius:{get:function(){return R},set:function(e){R=e}},enabled:{get:function(){return T},set:function(e){!!e!=!!T&&(e?H():V())}}}),T&&H(),e}return(0,o.Z)(f)}(n(902).AS)},906:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(885);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.device,i=t.innerRadius,r=void 0===i?Math.max(24,n.radius/4):i,a=t.parentElement,c=void 0===a?document.body:a,u=document.createElement("div");Object.assign(u.style,{position:"fixed",pointerEvents:"none",borderRadius:"9.99e+22px",transition:"opacity 0.1s",backgroundColor:"rgba(128, 128, 128, 0.5)"});var d=document.createElement("div");Object.assign(d.style,{position:"fixed",pointerEvents:"none",borderRadius:"9.99e+22px",transition:"opacity 0.1s",backgroundColor:"rgba(128, 128, 128, 0.5)"}),u.appendChild(d);var l=0;function s(){var t,i=e.read(),a=(0,o.Z)(i,2),c=a[0],f=a[1];if("static"===(null===(t=e.device)||void 0===t?void 0:t.mode)||e.active()){var p=2*n.radius,v=n.x-n.radius,h=n.y-n.radius;u.style.left=v+"px",u.style.top=h+"px",u.style.width=u.style.height=p+"px",u.style.opacity="1";var g=2*r;d.style.left=n.x+c*n.radius-r+"px",d.style.top=n.y-f*n.radius-r+"px",d.style.width=d.style.height=g+"px",d.style.opacity="1"}else u.style.opacity="0",d.style.opacity="0";l=requestAnimationFrame(s)}return c.appendChild(u),l=requestAnimationFrame(s),{destroy:function(){cancelAnimationFrame(l),u.parentNode&&u.parentNode.removeChild(u)}}}}},e=>{e.O(0,[532],(()=>(974,e(e.s=974)))),e.O()}]);
//# sourceMappingURL=simple-e346898ba8103293bbed.js.map